---
title: v4.1.0 Release Notes
date: 2025-11-26 11:57:42
permalink: /cn/Zadig v4.1/release-notes/v4.1.0/
---

Zadig v4.1.0 版本于 2025 年 11 月 28 日发布。

## 功能列表

**工作流**
- 执行工作流 OpenAPI 支持审批任务
- 工作流通知内容增加代码扫描结果
- 工作流拉取代码支持自定义 SSH config 文件
- 工作流构建任务支持动态变量
- 工作流支持多分支合并构建
- 工作流变量添加文件类型，支持上传文件
- 工作流任务支持基于条件判断决定是否执行
- 飞书审批任务支持添加抄送人员
- 飞书工作项变更任务支持节点模式
- Nacos 配置变更任务支持通过 Group 过滤
- Apollo 配置变更任务支持关闭范围控制

**效能洞察**
- 数据看板增加服务回滚数据统计
- 数据看板界面重构与优化，提升可读性

**基础设施与部署**
- 集群管理中的 Docker-in-Docker 服务支持配置存储驱动
- Helm 项目支持自定义 Release 历史版本的最大保留数量

**问题修复及系统优化**
- 补全项目初始化向导、内置模板、操作日志、侧边栏等 i18n
- 增强镜像仓库连通性检测
- 增强发布计划外部检测逻辑
- 优化 statefulset 资源服务回滚逻辑
- 优化业务目录导入逻辑
- 修复仅导入服务回滚 YAML 不正确问题
- 修复仅导入服务在环境中更新不生效问题
- 修复发布计划审批拒绝/外部检测中，审批详情缺失问题
- 修复发布计划审批人数为 0，发邮件错误问题
- 修复自测模式中 vs destination 缺失问题
- 修复自测模式子环境中 service 无法更新问题
- 修复 Helm 环境中服务包含数字时搜索失效问题
- 修复测试任务失败重试，通知中测试报告重复问题
- 修复 dind 副本数量调整为 0 导致构建 panic 问题
- 修复主机部署中 CommitID 变量获取不到问题
- 前端若干页面优化

## 业务变更声明

发布计划支持 Hook 外部系统中，下线`开始审批`事件。升级可以编辑发布计划更新为`完成规划`事件。

## 版本升级过程

::: warning
若使用的 MongoDB 以 Replica Set 模式部署，请确认未使用 admin/local/config/test 等系统库作为 Zadig 的业务库；如有使用，请先手动迁移数据。

若当前系统版本 < v4.0.0，请先升级到 v4.0.0，具体升级步骤请参考 [v4.0.0 升级方式](/cn/Zadig%20v4.1/release-notes/v4.0.0/#版本升级过程)，然后再按照以下方式升级到 v4.1.0。
:::

请根据不同的安装方式执行对应的升级过程：

- [脚本命令安装](/cn/Zadig%20v4.1/install/helm-deploy/#升级)
- [Helm 命令安装](/cn/Zadig%20v4.1/install/helm-deploy/#升级)
- [官方通道安装](/cn/Zadig%20v4.1/stable/install/#升级)