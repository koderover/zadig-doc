---
title: v3.2.0 Release Notes
date: 2024-10-31 10:42:55
permalink: /cn/Zadig v4.1/release-notes/v3.2.0/
---

Zadig v3.2.0 版本于 2024 年 11 月 1 日发布。

## 功能列表

**迭代管理**
- 支持流程管理
- 支持迭代看板
- 支持工作项管理

**工作流**
- 工作流支持独立通知任务
- 工作流任务支持代码信息传递
- 工作流任务手动执行阶段允许系统管理员操作
- 工作流构建任务支持引用其他任务服务组件
- 工作流部署任务支持更新 initcontainer 镜像
- 工作流镜像分发任务支持使用云厂商镜像多区域同步
- 工作流通用任务支持服务组件多任务执行
- 工作流通用任务自定义变量支持动态变量
- 工作流执行构建和部署任务时，支持灵活调整服务部署顺序
- 工作流审批人支持运行时输入和来自其他审批任务
- 工作流 JIRA 触发器支持指定状态变更
- 构建日志支持搜索
- 代码扫描支持导出文件
- 代码扫描和测试支持邮件和 Webhook 通知
- 测试 HTML 报告嵌入 CSS

**服务与环境**
- 环境服务历史版本列表添加镜像信息 
- 支持服务标签管理及业务目录根据标签检索服务
- Helm环境服务页面刷新后保留当前的搜索结果

**系统设置及资源配置**
- 账号系统 OAuth 集成添加用户手机属性字段
- 工作流任务在 AWS 集群上执行支持使用 IRSA 鉴权

**其他修复及优化**
- 优化发布计划列表性能
- 优化工作流执行弹框样式
- 优化工作流审批任务样式
- 修复部署任务中配置过滤变量执行时不生效的问题
- 修复执行中文名称工作流任务时截断报错问题
- 修复 Apollo 任务添加 preperties 变量的报错问题
- 修复一个项目设置用户组影响其他项目用户组权限的问题
- 修复环境中某个服务没有镜像导致创建版本无法列出服务问题
- 修复分析 Junit 测试报告时误判 Error 状态问题
- 修复配置缓存资源时选择集群资源 SC 不生效问题
- 修复引用中文名称工作流任务变量，变量值为空的问题
- 修复主机上的任务敏感信息没有 Mask 的问题
- 修复修改镜像仓库密码后没有更新环境中的 Secret 问题
- 修复新建服务使用的 Gerrit 仓库名称中带有“/”时报错问题
- 修复无法更新 Git 触发器中的代码库的问题
- 修复无法同时触发一条工作流中多个 Git 触发器问题
- 修复任务变量中存在特殊字符时无法调试工作流问题

## 业务变更声明
::: warning 克隆任务逻辑变更

Zadig v3.2.0 版本更新了工作流克隆任务功能。若工作流配置发生变更，则不再允许克隆旧任务，避免在工作流配置变更后通过克隆任务来绕过新流程的情况发生。

> 升级 v3.2.0 版本后，旧任务不再支持克隆。新任务的克隆功能不受影响，可以正常使用。
:::

:::danger 数据库版本升级
Zadig v3.2.0 Chart 的内置 MongoDB 版本已升级。若此前使用了内置数据库，为防止数据丢失，建议在升级前将其替换为外置数据库（MongoDB 版本 4.4+），或者自行采取措施确保数据安全。
:::

## 版本升级过程

::: warning
若使用的 MongoDB 以 Replica Set 模式部署，请确认未使用 admin/local/config/test 等系统库作为 Zadig 的业务库；如有使用，请先手动迁移数据。
如果当前系统版本 < v3.1，请先升级到 v3.1，具体升级过程参见 [v3.1 升级方式](/cn/Zadig%20v3.1/release-notes/v3.1.0/#版本升级过程)，再按照以下方式升级到 v3.2.0
:::

请根据不同的安装方式执行对应的升级过程：

- [脚本命令安装](/cn/Zadig%20v3.2/install/helm-deploy/#升级)
- [Helm 命令安装](/cn/Zadig%20v3.2/install/helm-deploy/#升级)
- [官方通道安装](/cn/Zadig%20v3.2/stable/install/#升级)




