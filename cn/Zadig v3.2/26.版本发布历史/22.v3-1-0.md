---
title: v3.1.0 Release Notes
date: 2024-08-15 10:49:21
permalink: /Zadig v3.2/release-notes/v3.1.0/
---
2024 年 8 月 20 日，Zadig 正式发布 v3.1.0 版本。

## 功能列表

**工作流**
- 工作流支持独立审批任务
- 工作流支持禁用功能
- 工作流阶段支持选择自动/手动执行
- 工作流阶段手动执行支持输入参数及流程选择
- 工作流任务支持添加备注信息
- 工作流任务支持失败后人工跳过
- 工作流任务支持失败自动重试/忽略失败
- 工作流任务支持服务级别的代码扫描
- 工作流通知支持邮件及 WebHook 通知 
- 工作流和代码扫描任务详情显示 Sonar 结果
- 工作流任务资源规格支持自定义 request
- 工作流构建任务支持交付产物下载
- 工作流 Nacos 配置变更任务支持内容搜索和 YAML 格式检查
- 工作流执行 OpenAPI 支持自定义任务和全局变量
- 测试模块支持查看 HTML 测试报告
- 测试和代码扫描支持在主机上执行

**自由项目**
- 主机项目重新定义为自由项目
- 自由项目支持配置协作模式
- 自由项目服务支持启动/停止/重启

**版本管理与发布计划**
- 版本管理创建版本 OpenAPI 支持镜像不推送
- 版本管理 K8s YAML 项目支持选择镜像不推送
- 版本管理镜像推送失败添加详细报错信息
- 发布计划支持需求关联 JIRA 迭代
- 发布计划支持条件搜索

**效能洞察**
- 效能洞察新增主机项目数据统计
- 效能洞察和效能概览添加发布情况

**其他修复及优化**
- 优化飞书集成 encryption key 配置为非必填
- 优化工作流模板列表展示描述信息
- 优化代码扫描列表展示描述信息
- 优化主机项目环境查看服务体验
- 优化环境睡眠 Cron 表达式添加格式化解析
- 修复服务中部分资源发生变更，部署时偶发其他资源重建问题
- 修复项目初始化流程集成镜像仓库缺少项目范围配置问题
- 修复主机部署使用构建缓存导致执行报错问题
- 修复因项目名称过长导致添加用户报错问题
- 修复选择主机作为构建基础设施时重新编辑报错问题
- 修复有工作流权限的项目管理员无法通过模板创建工作流问题
- 修复主机部署失败后重试报错问题
- 修复公开项目切换为私有项目权限未生效问题
- 修复测试任务名称包含下划线时执行报错问题
- 修复添加/更新服务版本时创建人显示 System 问题
- 修复有公告情况下服务配置页面保存按钮看不全问题
- 修复 Helm 项目创建版本无法正确获取错误信息问题
- 修复系统设置执行记录保留策略不生效问题
- 修复删除项目时未删除代码扫描的引用而导致代码扫描模板 500 错误
- 修复同代码仓多 PR 构建时，代码信息被覆盖问题
- 修复工作流部署任务服务上线执行时，修改变量未生效问题


## 版本升级过程

::: warning
若使用的 MongoDB 版本 > 4.0, 且以 Replica Set 模式部署，请确认未使用 admin/local/config/test 等系统库作为 Zadig 的业务库；如有使用，请先手动迁移数据。
如果当前系统版本 < v3.0，请先升级到 v3.0，具体升级过程参见 [v3.0.0 升级方式](/cn/Zadig%20v3.0/release-notes/v3.0.0/#版本升级过程)，再按照以下方式升级到 v3.1.0
:::

请根据不同的安装方式执行对应的升级过程：

- 使用脚本命令安装：升级参考[文档](/cn/Zadig%20v3.1/install/helm-deploy/#升级)
- 使用 Helm 命令安装：升级参考[文档](/cn/Zadig%20v3.1/install/helm-deploy/#升级)
- 官方通道安装：升级参考[文档](/cn/Zadig%20v3.1/stable/install/#升级)
