---
title: v2.0.0 Release Notes
date: 2023-10-24 16:06:07
permalink: /Zadig v2.1.0/release-notes/v2.0.0/
---

2023 年 10 月 26 日，Zadig 正式发布 v2.0.0 版本。

## 功能列表
**项目**
- 项目内支持集成代码源
- 支持项目分组
- 支持现有项目接入
- 项目列表支持分页
- 托管项目支持一键切换 K8s YAML 项目
- 项目列表搜索支持拼音/项目标识/项目名称模糊匹配

**工作流**
- 自定义工作流构建和通用任务支持在主机(Linux、MacOS)上执行
- 自定义工作流支持调试能力
- 自定义工作流支持参数传递
- 自定义工作流支持共享存储
- 自定义工作流支持配置并发数量
- 自定义工作流支持飞书、钉钉审批流
- 自定义工作流步骤执行支持强制管理
- 自定义工作流任务支持配置调度策略
- 自定义工作流的历史任务列表支持自定义字段
- 自定义工作流增加内置输出变量(服务/代码信息/环境名称等)
- 自定义工作流支持下线服务任务
- 自定义工作流支持观测云监测任务 
- 自定义工作流支持服务级别测试任务
- 自定义工作流支持 Istio 发布任务
- 自定义工作流支持 MSE 全链路灰度发布
- 自定义工作流支持触发 Zadig 工作流任务
- 自定义工作流支持 Cronjob 类型资源更新
- 自定义工作流蓝绿发布任务支持服务维度的升级
- 自定义工作流镜像分发任务支持配置目标镜像生成规则
- 自定义工作流 SQL 数据变更任务支持使用集成数据库
- 自定义工作流支持 Nacos 和 Apollo 配置变更任务
- 自定义工作流部署任务增加变量更新和服务配置变更能力
- 自定义工作流 Jenkins 任务支持同时触发多个 Jenkins Job
- 自定义工作流支持 JIRA 问题状态变更和飞书工作项状态变更任务
- 执行工作流构建/测试/代码扫描/通用任务支持选择 CommitID 
- 工作流触发器支持手动创建 webhook 
- 工作流触发器 Push 事件支持自动取消
- 工作流触发器 Gerrit 代码源目标分支支持正则匹配
- 代码扫描支持通知
- 代码扫描支持配置多仓库
- 代码扫描支持变量及使用脚本执行扫描过程
- 代码扫描触发器中的目标分支支持正则表达式

**环境及服务**
- 环境支持容器组 
- 测试环境添加资源视图
- 测试环境支持创建空环境
- 环境支持睡眠和唤醒能力
- 支持生产环境和生产服务管理
- 服务配置支持历史版本记录及回滚
- 环境中支持服务历史版本记录及回滚
- 环境支持显示 Cronjob 类型资源
- 改进 K8s YAML 项目中的服务变量易用性
- 生产环境支持 Helm Chart 的实例化部署
- Helm Chart 自定义镜像规则支持四段式 

**资产管理及发布管理**
- 资产管理支持服务目录和资源配置
- 发布管理支持发布计划

**效能洞察**
- 支持可定制的效能洞察看板
- 效能洞察支持选择项目

**系统设置**
- 用户管理支持用户组
- 系统配置支持设置系统主题色
- 系统级别权限支持创建/删除项目
- 账号系统的 SSO 接入支持登出功能
- 系统设置支持集成支持 JFrog 镜像仓库
- 系统设置支持集成 JIRA、飞书项目管理系统
- 系统设置支持集成 Nacos、Apollo 配置管理系统 
- 集群管理支持选择是否执行工作流任务 
- 集群管理代理模式支持指定集群访问权限 

**开发者中心**
- 支持 git-zadig 多仓协同管理插件
- 开发者 OpenAPI 扩展，包括环境、服务、构建、测试、代码扫描、质效数据等

**系统可用性、稳定性、安全性保障**
- 增加监控 matrix
- 权限重构，提升系统性能
- 用户登录 token 优化，提升安全性 

**其他**
- 优化系统菜单
- 优化工作流视图样式
- 优化镜像选择列表的排序优化
- 修复自测模式开启失败的问题
- 修复 Gerrit code review+1 问题
- 修复非系统管理员新建代码扫描报 403 问题
- 修复使用模版创建的工作流无法添加阶段的问题
- 修复自定义工作流失败重试时跳过步骤报错的问题 
- 修复蓝绿灰度发布无法创建 NodePort Service 的问题
- 修复灰度发布/灰度回滚删除 deployment 超时时间问题
- 修复自定义工作流没有添加任务情况下，编辑阶段名称报错问题
- 修复自定义工作流代码扫描 other 类型代码源执行失败的问题
- 修复使用 AWS 对象存储时产品工作流构建无法上传日志的问题
- 修复执行自定义工作流通用任务其他类型代码源默认分支未显示的问题
- 修复自定义工作流和产品工作流多 MR 执行的情况通知 MR 信息显示问题
- 修复 Gitee 代码库中删除 Chart 中的文件后同步服务时文件仍存在的问题
- 修复执行 Helm Chart 部署工作流将服务来源切换成 Chart 仓库时报错的问题 
- 若干体验和交互优化


## 业务变更声明

新版本做如下内容调整，在老版本中配置的相应功能升级后不受影响：
- 模板库 K8s YAML 和 Helm Chart 模版纳入专家版范畴
- 协作模式纳入专家版范畴
- 账号系统对接 AD、LDAP、OAuth 纳入专家版范畴
- 账号系统对接企业自定义账号系统能力纳入企业版范畴


## 版本升级过程
::: warning
- 如果当前系统为 Zadig，系统版本 < v1.18.0，请先升级到 Zadig v1.18.0，具体升级过程参见 [Zadig v1.18.0 升级方式](https://github.com/koderover/zadig-doc/blob/main/Zadig%20v1.18.0/26.%E7%89%88%E6%9C%AC%E5%8F%91%E5%B8%83%E5%8E%86%E5%8F%B2/29.v1-18-0.md#%E7%89%88%E6%9C%AC%E5%8D%87%E7%BA%A7%E8%BF%87%E7%A8%8B)，再按照以下方式升级到 v2.0.0。
- 如果当前系统为 ZadigX，系统版本 < v1.8.0，请先升级到 ZadigX v1.8.0，具体升级过程参见 [ZadigX v1.8.0 升级方式](https://github.com/koderover/zadig-doc/blob/main/ZadigX%20v1.8.0/26.%E7%89%88%E6%9C%AC%E5%8F%91%E5%B8%83%E5%8E%86%E5%8F%B2/30.v1-8-0.md)，再按照以下方式升级到 v2.0.0。
:::


请根据不同的安装方式执行对应的升级过程：

- 使用脚本命令安装：升级参考[文档](https://github.com/koderover/zadig-doc/blob/main/Zadig%20v2.0.0/02.%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/02.%E5%9F%BA%E4%BA%8E%20K8s%20%E6%AD%A3%E5%BC%8F%E8%BF%90%E7%BB%B4/01.install-on-k8s.md#升级)
- 使用 Helm 命令安装：升级参考[文档](https://github.com/koderover/zadig-doc/blob/main/Zadig%20v2.0.0/02.%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/02.%E5%9F%BA%E4%BA%8E%20K8s%20%E6%AD%A3%E5%BC%8F%E8%BF%90%E7%BB%B4/00.helm.md#升级)
- 官方通道安装：升级参考[文档](https://github.com/koderover/zadig-doc/blob/main/Zadig%20v2.0.0/02.%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/02.%E5%9F%BA%E4%BA%8E%20K8s%20%E6%AD%A3%E5%BC%8F%E8%BF%90%E7%BB%B4/02.install.md#%E5%8D%87%E7%BA%A7-zadig)
