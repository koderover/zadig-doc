---
title: v4.2.0 Release Notes
date: 2026-02-12 13:09:14
permalink: /cn/Zadig v4.2/release-notes/v4.2.0/
---

2026 年 2 月 12 日，Zadig 正式发布 v4.2.0 版本。

## 功能列表

**工作流及发布计划增强**
- 工作流使用支持系统和项目共享变量
- 工作流支持重启服务任务
- 工作流支持 APISIX 变更任务
- 工作流 Apollo 任务支持搜索配置
- 工作流 DMS 数据变更工单任务支持选择工单执行
- 工作流支持追溯飞书工作项信息
- 工作流全局变量支持设置为敏感信息
- 工作流支持 Lark（飞书海外版）应用通知
- 工作流执行条件支持获取当前任务变量
- 工作流主机服务部署任务中环境支持固定值
- 工作流自定义任务支持动态变量
- 工作流部署任务添加部署日志，展示资源变更过程
- 工作流「引用所选任务代码信息」支持直接使用前置任务代码信息
- 测试支持用例通过率配置
- 主机构建支持使用模板
- 发布计划发布项支持指定执行人
- 发布计划允许发布负责人重试工作流
- 飞书审批链接方式优化，提升稳定性
- 发布计划权限细化拆分，支持分别控制编辑元数据、编辑发布项、编辑审批

**环境管理与可视化改进**
- 环境服务调试支持指定容器
- 环境服务列表中展示 Ingress 的 Path 信息
- Helm 服务更新支持查看 K8s manifest 差异
- 环境服务列表中的镜像改为当前 Workload 镜像

**开放性与系统集成优化**
- 发布计划 OpenAPI 支持传入全局变量
- 执行工作流 OpenAPI 支持自定义通知用户
- 执行工作流 OpenAPI 支持多服务服务测试/代码扫描/通用任务
- 新增新建与删除子环境 OpenAPI 
- 新增协作模式新建与删除 OpenAPI
- 新增 Helm 场景 OpenAPI，包括使用模板新建服务、新建环境、添加服务到环境等
- 支持配置系统访问地址用于内网系统回调
- 支持项目和系统级别共享变量管理

**问题修复及体验优化**
- 项目分组较多时排版优化
- 工作流日志支持快捷复制
- 删除镜像仓库时显示引用信息
- 添加/更新 helm 服务列表支持批量删除
- 克隆工作流构建任务清理已合并的 MR
- 服务实时日志支持按照行数和时间来筛选
- 执行工作流任务时，若存在变量则默认展示
- 工作流默认审批信息中的项目名称字段改为名称而非标识
- K8s YAML 服务/Dockerfile/构建/代码扫描/发布计划模板支持复制
- 优化实时日志搜索性能
- 优化工作流执行选择版本列表性能
- 优化工作流部署任务可选服务列表
- 优化创建版本 OpenAPI 选择来自环境时需要传入源镜像问题
- 修复 AWS 集群 IRSA 不生效问题
- 修复 SSH 代码源集成不支持 subpath 问题
- 修复取消工作流任务时，任务还在运行状态问题
- 修复镜像构建时引用敏感信息变量未 mask 问题
- 修复 Statefulset 服务部署状态检测不精准问题
- 修复工作流任务开始事件通知中，commit 链接缺少地址问题
- 修复克隆工作流构建任务分支超过 200个时，分支未显示问题
- 修复手动执行构建阶段时生成的镜像信息中缺少 Commit 问题
- 修复服务全局变量（单选类型）可选范围改动后，环境中未生效问题
- 其他若干小问题修复和前端体验优化

## 业务变更声明

发布计划权限细化拆分，支持分别控制编辑元数据、编辑发布项、编辑审批。

## 版本升级过程

::: warning
若使用的 MongoDB 以 Replica Set 模式部署，请确认未使用 admin/local/config/test 等系统库作为 Zadig 的业务库；如有使用，请先手动迁移数据。

若当前系统版本 < v4.1.0，请先升级到 v4.1.0，具体升级步骤请参考 [v4.1.0 升级方式](/cn/Zadig%20v4.2/release-notes/v4.1.0/#版本升级过程)，然后再按照以下方式升级到 v4.2.0。
:::

请根据不同的安装方式执行对应的升级过程：

- [脚本命令安装](/cn/Zadig%20v4.2/install/helm-deploy/#升级)
- [Helm 命令安装](/cn/Zadig%20v4.2/install/helm-deploy/#升级)
- [官方通道安装](/cn/Zadig%20v4.2/stable/install/#升级)
