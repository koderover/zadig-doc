---
title: v4.1.0 Release Notes
date: 2025-11-26 11:57:42
permalink: /cn/Zadig v4.2/release-notes/v4.1.0/
---

2025 年 12 月 3 日，Zadig 正式发布 v4.1.0 版本。

## 功能列表

**工作流**
- 执行工作流 OpenAPI 支持审批任务集成
- 工作流通知内容新增代码扫描结果信息
- 工作流拉取代码支持自定义 SSH 配置文件
- 工作流构建任务支持动态变量配置
- 工作流支持多分支合并构建功能
- 工作流变量新增文件类型，支持文件上传
- 工作流任务支持基于条件判断决定执行状态
- 飞书审批任务支持添加抄送人员
- 飞书工作项变更任务新增节点模式支持
- Nacos 配置变更任务支持通过 Group 进行过滤
- Apollo 配置变更任务支持关闭范围控制

**数据视图**
- 数据概览新增服务回滚数据统计
- 效能洞察界面重构与用户体验优化，显著提升数据可读性

**基础设施与部署**
- 集群管理中的 Docker-in-Docker 服务支持配置存储驱动
- Helm 项目支持自定义 Release 历史版本的最大保留数量

**系统功能优化**
- 补全项目向导、内置模板、操作日志、侧边栏等国际化内容
- 增强镜像仓库连通性检测机制
- 优化发布计划外部检测逻辑
- 改进 statefulset 资源服务回滚逻辑
- 优化业务目录导入流程

**问题修复及系统优化**
- 修复仅导入服务回滚 YAML 不正确问题
- 修复仅导入服务在环境中更新不生效问题
- 修复发布计划审批拒绝或外部检测中审批详情缺失问题
- 修复发布计划审批人数为0时发邮件错误问题
- 修复自测模式中 vs destination 缺失问题
- 修复自测模式子环境中 service 无法更新问题
- 修复 Helm 环境中服务包含数字时搜索失效问题
- 修复测试任务失败重试时通知中测试报告重复问题
- 修复 dind 副本数量调整为 0 导致构建 panic 问题
- 修复主机部署中 CommitID 变量获取不到问题
- 完成前端若干页面的用户体验优化


## 业务变更声明

发布计划支持 Hook 外部系统中，下线`开始审批`事件。升级可以编辑发布计划更新为`完成规划`事件。

## 版本升级过程

::: warning
若使用的 MongoDB 以 Replica Set 模式部署，请确认未使用 admin/local/config/test 等系统库作为 Zadig 的业务库；如有使用，请先手动迁移数据。

若当前系统版本 < v4.0.0，请先升级到 v4.0.0，具体升级步骤请参考 [v4.0.0 升级方式](/cn/Zadig%20v4.1/release-notes/v4.0.0/#版本升级过程)，然后再按照以下方式升级到 v4.1.0。
:::

请根据不同的安装方式执行对应的升级过程：

- [脚本命令安装](/cn/Zadig%20v4.1/install/helm-deploy/#升级)
- [Helm 命令安装](/cn/Zadig%20v4.1/install/helm-deploy/#升级)
- [官方通道安装](/cn/Zadig%20v4.1/stable/install/#升级)