---
title: Performance Insights
date: 2022-08-18 20:32:09
permalink: /en/Zadig v3.4/api/insight/
---

## Data Overview

### Request

```
GET /openapi/statistics/overview
```

### Response

```json
{
  "project_count": 9,    // Project quantity
  "cluster_count": 3,    // Cluster quantity
  "service_count": 28,   // Service quantity
  "workflow_count": 17,  // Workflow quantity
  "env_count": 15,       // Environment quantity
  "artifact_count": 332  // Delivery quantity
}
```

## Building Data Statistics

###  Request

```
GET /openapi/statistics/build
```

### Query

| Parameter Name       | Required     | Description                                                           |
| ------------ | -------- | -------------------------------------------------------------- |
| startDate    | int64    | Unix timestamps in seconds, counting data starting from 00:00:00 on the day of the timestamp |
| endDate      | int64    | Unix timestamps in seconds, counting data ending at 23:59:59 on the day of the timestamp |
| productNames | []string | Project List                                                       |

::: warning
If you specify the query time interval, startDate and endDate must be passed at the same time.
:::

### Response

```json
{
  "total": 10,                    // Total number of successful builds
  "success": 10,                  // Total number of builds
  "data": [                       // Build data details for each day within the specified time period
    {
      "date": "2022-08-01",       // Build statistics date
      "success": 4,               // Number of successful builds on that day
      "failure": 0,               // Number of failed builds on that day
      "total": 4                  // Total number of builds on that day
    },
    {
      "date": "2022-08-02",
      "success": 3,
      "failure": 0,
      "total": 3
    },
    ...
  ]
}
```

## Deployment Data Statistics

###  Request

```
GET /openapi/statistics/deploy
```

### Query

| Parameter Name       | Required     | Description                                                           |
| ------------ | -------- | -------------------------------------------------------------- |
| startDate    | int64    | Unix timestamps in seconds, counting data starting from 00:00:00 on the day of the timestamp |
| endDate      | int64    | Unix timestamps in seconds, counting data ending at 23:59:59 on the day of the timestamp |
| productNames | []string | Project List                                                       |

::: warning
If you specify the query time interval, startDate and endDate must be passed at the same time.
:::

### Response

```json
{
  "success": 8,             // Total number of successful deployments
  "total":   11,            // Total number of deployments
  "data": [                 // Deployment data details for each day within the specified time period
    {
      "date": "2022-08-10", // Deployment statistics date
      "failure": 1,         // Number of failed deployments on that day
      "success": 1,         // Number of successful deployments on that day
      "total":   2,         // Total number of deployments on that day
    },
    {
      "date": "2022-08-11",
      "failure": 2,
      "success": 7,
      "total":   9,
    }
    ...
  ]
}
```

## Test Data Statistics

###  Request

```
GET /openapi/statistics/test
```

### Query

| Parameter Name       | Required     | Description                                                           |
| ------------ | -------- | -------------------------------------------------------------- |
| startDate    | int64    | Unix timestamps in seconds, counting data starting from 00:00:00 on the day of the timestamp |
| endDate      | int64    | Unix timestamps in seconds, counting data ending at 23:59:59 on the day of the timestamp |
| productNames | []string | Project List                                                       |

::: warning
If you specify the query time interval, startDate and endDate must be passed at the same time.
:::

### Response

```json
{
  "case_count": 24,             // Number of test cases
  "exec_count": 13,             // Number of executions during the specified period
  "success_count": 13,          // Number of successful tests during the specified period
  "average_runtime": 10,        // Average execution time of test tasks during the specified period
  "data": [                     // Test data details for each week within the specified time period
    {
      "date": "2022-08-11",     // Weekly statistics date
      "success_count": 0,       // Number of successful tests on that week
      "timeout_count": 0,       // Number of timed out tests on that week
      "failed_count": 0         // Number of failed tests on that week
    },
    {
      "date": "2022-08-04",
      "success_count": 2,
      "timeout_count": 0,
      "failed_count": 0
    },
    ...
  ]
}
```

## Data Statistics for Production Environment Release

###  Request

```
GET /openapi/statistics/v2/release
```

### Query

| Parameter Name       | Required   | Description                     |
| ------------ | ------ | ------------------------ |
| start_time   | int64  | Unix timestamps in seconds |
| end_time     | int64  | Unix timestamps in seconds |
| project_name | string | Project identifier                 |

### Response

```json
{
  "total": 10,                           // Number of deployments on that day
  "success_count": 9,                    // Number of successful deployments on that day
  "daily_stat": [                        // Daily statistics within the specified time period
    {
      "date": "2023-05-15",                // Date
      "total": 10,                         // Number of deployments on that day
      "success_count": 9,                  // Number of successful deployments on that day
      "fail_count": 1,                     // Number of failed deployments on that day
    }
    ...
  ]
}
```

## Get Rolled Back Data

###  Request

```
GET /openapi/statistics/v2/rollback/detail
```

### Query

| Parameter Name      | Required   | Description         | Required |
| ----------- | ------ | ------------ | ---- |
| projectKey  | string | Project identifier     | No   |
| envName     | string | Environment name     | No   |
| serviceName | string | Service name     | No   |
| startTime   | int    | Start time     | Yes   |
| endTime     | int    | End time     | Yes   |
| pageNum     | int    | Current page count of pages | Yes   |
| pageSize    | int    | Number of pages per page | Yes   |

### Response

```json
{
    "total": 1,                           // Total number of rollbacks
    "data": [
        {
            "project_key": "yaml",        // Project identifier
            "env_name": "prod",           // Environment name
            "env_type": "zadig",          // Environment type
            "production": true,           // Whether it is a production environment
            "operation_type": "zadig",    // Operation type
            "service_name": "service2",   // Service name
            "service_type": "k8s",        // Service type
            "origin_service": {           // Service information before rollback
                "service_name": "service2",
                "release_name": "",       // Release name, used for helm chart type services
                "containers": [           // Container image information
                    {
                        "name": "service2", // Container name
                        "type": "",         // Distinguish whether it is an initContainer
                        "image": "koderover.tencentcloudcr.com/test/service2:20240830123413-8-main",  // Complete image address
                        "image_name": "service2"  // Image name
                    }
                ],
                "rendered_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  creationTimestamp: null\n  labels:\n    app.kubernetes.io/instance: service2\n    app.kubernetes.io/name: yaml\n  name: service2\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app.kubernetes.io/instance: service2\n      app.kubernetes.io/name: yaml\n  strategy: {}\n  template:\n    metadata:\n      creationTimestamp: null\n      labels:\n        app.kubernetes.io/instance: service2\n        app.kubernetes.io/name: yaml\n    spec:\n      containers:\n      - command:\n        - /workspace/service2\n        image: koderover.tencentcloudcr.com/test/service2:20240830123413-8-main\n        imagePullPolicy: Always\n        name: service2\n        ports:\n        - containerPort: 20222\n          protocol: TCP\n        resources: {}\nstatus: {}\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: service2\n  labels:\n    app.kubernetes.io/name: yaml\n    app.kubernetes.io/instance: service2\nspec:\n  type: NodePort\n  ports:\n    - protocol: TCP\n      port: 20222\n      targetPort: 20222\n",
                "values_yaml": "",              // Values content, only used for helm and helm chart type services
                "override_values": "",          // Overridden key-value pairs, content format is json, only used for helm and helm chart type services
                "update_time": 1725518692       // Service update time
            },
            "update_service": {                 // Service information after rollback
                "service_name": "service2",     // Service name
                "release_name": "",             // Release name, used for helm chart type services
                "containers": [
                    {
                        "name": "service2",
                        "type": "",
                        "image": "koderover.tencentcloudcr.com/test/service2:20240621003703-261-main",
                        "image_name": "service2"
                    }
                ],
                "rendered_yaml": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  creationTimestamp: null\n  labels:\n    app.kubernetes.io/instance: service2\n    app.kubernetes.io/name: yaml\n  name: service2\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app.kubernetes.io/instance: service2\n      app.kubernetes.io/name: yaml\n  strategy: {}\n  template:\n    metadata:\n      creationTimestamp: null\n      labels:\n        app.kubernetes.io/instance: service2\n        app.kubernetes.io/name: yaml\n    spec:\n      containers:\n      - command:\n        - /workspace/service2\n        image: koderover.tencentcloudcr.com/test/service2:20240621003703-261-main\n        imagePullPolicy: Always\n        name: service2\n        ports:\n        - containerPort: 20222\n          protocol: TCP\n        resources: {}\nstatus: {}\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: service2\n  labels:\n    app.kubernetes.io/name: yaml\n    app.kubernetes.io/instance: service2\nspec:\n  type: NodePort\n  ports:\n    - protocol: TCP\n      port: 20222\n      targetPort: 20222\n",    // Render Yaml
                "values_yaml": "",             // Values content, only used for helm and helm chart type services
                "override_values": "",         // Overridden key-value pairs, content format is json, only used for helm and helm chart type services
                "update_time": 1734491054
            },
            "create_by": {                     // Rollback executor information
                "uid": "89358827-5137-11ee-b0c5-56d5fd1dd39e", // User ID
                "account": "admin",            // User account (login name)
                "name": "admin",               // User name (nickname)
                "identity_type": "system"      // User identity type
            },
            "create_time": 1734491054          // Rollback time
        }
    ]
}
```