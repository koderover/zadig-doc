---
title: Image Repositories
date: 2023-04-18 16:35:18
permalink: /en/Zadig v3.4/api/registry/
---

## Integrated Mirror Warehouse

**Request**

```
POST /openapi/system/registry
```

**body Parameter description**

|Parameter Name|Description|Required|Required|
|----------------|-------------------|---|---|
|`address`  |Mirror warehouse address, need to include protocol|string|Trigger time, Unix timestamp|
|`provider` |Mirror warehouse providers, including the following providers:<br> `acr` : That is Alibaba Cloud ACR<br> `tcr` : Tencent Cloud TCR<br> `swr` : Huawei Cloud SWR<br> `ecr` : That is Amazon ECR<br> `dockerhub` : That is DockerHub<br> `harbor` : That is: Harbor<br> `nexus` : i.e.: Nexus<br/> `native` : That is: other types| string|Trigger time, Unix timestamp|
|`region`   |Area information of mirror warehouse| string|`provider` = `ecr` required|
|`namespace` |The namespace of the mirror repository| string|Trigger time, Unix timestamp|
|`is_default` |Whether to set it to default use, there can only be one image repository in the system that is used by default at the same time.| bool|Trigger time, Unix timestamp|
|`access_key` |Mirror Warehouse AK| string|Trigger time, Unix timestamp|
|`secret_key` |Mirror Warehouse SK| string |Trigger time, Unix timestamp|
|`enable_tls` |Whether to enable SSL verification| bool|No|
|`tls_cert` |TLS certificate content| string|`enable_tls` = `true` required|

**body Parameter example**

``` json
{
    "address": "https://*****.tencentcloudcr.com",
    "provider": "tcr",
    "namespace": "zadigx",
    "is_default": true,
    "access_key": "*********",
    "secret_key": "*********",
    "enable_tls": true,
    "tls_cert": "*********"
}
```

**Response**

```json
{
  "message": "success"
}
```



## List Mirror Warehouse Information

**Request**

```
GET /openapi/system/registry
```

**Successful return instructions**

| Parameter Name        | Description                                                         | Required   |
| ------------- | ------------------------------------------------------------ | ------ |
| `registry_id` | Mirror Repository ID                                                  | string |
| `address`     | Mirror warehouse address, need to include protocol                                     | string |
| `provider`    | Mirror warehouse providers, including the following providers:<br/> `acr` : That is Alibaba Cloud ACR<br/> `tcr` : Tencent Cloud TCR<br/> `swr` : Huawei Cloud SWR<br/> `ecr` : That is Amazon ECR<br/> `dockerhub` : That is DockerHub<br/> `harbor` : That is: Harbor<br/> `nexus` : i.e.: Nexus<br/> `native` : That is: other types | string |
| `region`      | Mirror the area information of the warehouse. When `provider` is `ecr` , this field is meaningful.    | string |
| `namespace`   | Mirror repository namespace                                             | string |
| `is_default`  | Whether it is the default image repository. Note: There can only be one default mirror repository at the same time     | bool   |

**Return to the example successfully**

```json
[
    {
        "registry_id":"6308815592****995e813035",
        "address": "https://****.***.tencentyun.com",
        "provider": "native",
        "region": "",
        "namespace": "koderover-**",
        "is_default": false
    },
    {
        "registry_id":"630c7ad****30c131062e245",
        "address": "https://***.tencentcloudcr.com",
        "provider": "tcr",
        "region": "",
        "namespace": "t***",
        "is_default": true
    },
]
```

## Get the Specified Mirror Repository Information

**Request**

```
GET /openapi/system/registry/:id
```

**Path parameter description**

| Parameter Name        | Required   | Description       | Is it Required | Default Value |
| ------------- | ------ | ---------- | -------- | ------ |
| `id` | string |  Mirror repository primary key | Trigger time, Unix timestamp       | None     |

**Successful return instructions**

| Parameter Name        | Description                                                         | Required   |
| ------------- | ------------------------------------------------------------ | ------ |
| `registry_id` | Mirror Repository ID                                                  | string |
| `address`     | Mirror warehouse address, need to include protocol                                     | string |
| `provider`    | Mirror warehouse providers, including the following providers:<br/> `acr` : That is Alibaba Cloud ACR<br/> `tcr` : Tencent Cloud TCR<br/> `swr` : Huawei Cloud SWR<br/> `ecr` : That is Amazon ECR<br/> `dockerhub` : That is DockerHub<br/> `harbor` : That is: Harbor<br/> `nexus` : i.e.: Nexus<br/> `native` : That is: other types | string |
| `region`      | Mirror the area information of the warehouse. When `provider` is `ecr` , this field is meaningful.    | string |
| `namespace`   | Mirror repository namespace                                             | string |
| `is_default`  | Whether it is the default image repository. Note: There can only be one default mirror repository at the same time     | bool   |

**Return to the example successfully**

```json
{
    "registry_id":"6308815592****995e813035",
    "address": "https://****.***.tencentyun.com",
    "provider": "native",
    "region": "",
    "namespace": "koderover-**",
    "is_default": false
}
```

## Update the Specified Mirror Repository Information

**Request**

```
PUT /openapi/system/registry/:id
```

**Path parameter description**

| Parameter Name        | Required   | Description       | Is it Required | Default Value |
| ------------- | ------ | ---------- | -------- | ------ |
| `id` | string |  Mirror repository primary key | Trigger time, Unix timestamp       | None     |

**body Parameter description**

| Parameter Name        | Description                                                         | Required   |
| ------------- | ------------------------------------------------------------ | ------ |
| `registry_id` | Mirror Repository ID                                                  | string |
| `address`     | Mirror warehouse address, need to include protocol                                     | string |
| `provider`    | Mirror warehouse providers, including the following providers:<br/> `acr` : That is Alibaba Cloud ACR<br/> `tcr` : Tencent Cloud TCR<br/> `swr` : Huawei Cloud SWR<br/> `ecr` : That is Amazon ECR<br/> `dockerhub` : That is DockerHub<br/> `harbor` : That is: Harbor<br/> `nexus` : i.e.: Nexus<br/> `native` : That is: other types | string |
| `region`      | Mirror the area information of the warehouse. When `provider` is `ecr` , this field is meaningful.    | string |
| `namespace`   | Mirror repository namespace                                             | string |
| `is_default`  | Whether it is the default image repository. Note: There can only be one default mirror repository at the same time     | bool   |

**body Parameter example**

```json
{
    "registry_id":"6308815592****995e813035",
    "address": "https://****.***.tencentyun.com",
    "provider": "native",
    "region": "",
    "namespace": "koderover-**",
    "is_default": false
}
```

**Successful return instructions**

```JSON
{message: "success"}
```